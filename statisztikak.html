<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <script type="text/javascript" src="js/Chart.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="bootstrap.css" />
    <link rel="stylesheet" href="statisztikak.css" />
    <title>F1Stats</title>
  </head>
  <body>


    <!--Navigációs menü-->
    <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="statisztikak.html">F1_SATS</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarColor01"
        aria-controls="navbarColor01"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarColor01">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="fooldal.html">Főoldal</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="statisztikak.html">Statisztikák</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Összehasonlítás</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Speciális</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Belépés</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Regisztráció</a>
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input
            class="form-control mr-sm-2"
            type="text"
            placeholder="Search"
          />
          <button class="btn btn-secondary my-2 my-sm-0" type="submit">
            Search
          </button>
          <ul class="navbar-nav mr-auto"></ul>
        </form>
      </div>
    </nav>



        <!--Grafikon megjelenítő sáv-->

    <div class="container-fluid">
      <div class="row">
        <div  class="col-2"></div>
        <div class="col-8">
          <div id="expand" class="alert alert-primary alert-dismissible alert-warning">
            <h4 class="alert-heading">Legtöbb győzelemmel rendelkező pilóták</h4>            
          </div>
        </div>
        <div  class="col-2"></div>
      </div>
    </div>


 <!--Grafikon lenyíló sáv-->
    <div class="container-fluid">
      <div class="row">
        <div class="col-2"></div>
        <div class="col-8">
          <div id="chart-container">
            <canvas id="graphCanvas"></canvas>
          </div>          
        </div>
        <div class="col-2"></div>
      </div>
    </div>




    

<!--Grafikon megjelenítő sáv-->

<div class="container-fluid">
  <div class="row">
    <div  class="col-2"></div>
    <div class="col-8">
      <div id="expand2" class="alert alert-primary alert-dismissible alert-warning">
        <h4 class="alert-heading">Legtöbb győzelemmel rendelkező csapatok</h4>            
      </div>
    </div>
    <div  class="col-2"></div>
  </div>
</div>

<!--Grafikon lenyíló sáv-->
<div class="container-fluid">
  <div class="row">
    <div class="col-2"></div>
    <div class="col-8">
      <div id="chart-container">
        <canvas id="myChart"></canvas>
      </div>          
    </div>
    <div class="col-2"></div>
  </div>
</div>






   
 <!--Grafikon script-->
    <script>
      $(document).ready(function () {
        showGraph();
      });

      function showGraph() {
        {
          $.post("data.php", function (data) {
            console.log(data);
            var id = [];
            var name = [];
            var wins = [];

            for (var i in data) {
              id.push(data[i].driverId);
              name.push(data[i].surname);
              wins.push(data[i].wins);
            }

            var chartdata = {
              labels: name,
              datasets: [
                {
                  label: "Győzelmek",
                  backgroundColor: "#49e2ff",
                  borderColor: "#46d5f1",
                  hoverBackgroundColor: "#CCCCCC",
                  hoverBorderColor: "#666666",

                  data: wins,
                },
              ],

              options: {
                scales: {
                  yAxes: [
                    {
                      ticks: {
                        begintAtZero: true,
                      },
                    },
                  ],
                },
              },
            };

            var graphTarget = $("#graphCanvas");

            var barGraph = new Chart(graphTarget, {
              type: "bar",
              fill: false,
              data: chartdata,
            });
          });
        }
      }
    </script>



<canvas id="myChart" width="400" height="400"></canvas>
<script>
var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Ferrari','McLaren','Mercedes','Williams','Team Lotus','Red Bull','Brabham','Renault','Benetton','Tyrell'],
        datasets: [{
            label: 'Konstruktőri győzelmek',
            data: [238,182,115,114,79,64,35,35,27,23],
            backgroundColor: [
                'rgba(192,0,0, 0.5)',
                'rgba(255,135,0, 0.5)',
                'rgba(0,210,190, 0.5)',
                'rgba(	0,130,250, 0.5)',
                'rgba(0, 66, 37, 0.5)',
                'rgba(6,0,239, 0.5)',
                'rgba(0, 66, 37, 0.5)',
                'rgba(255,245,0, 0.5)',
                'rgba(0,148,33, 0.5)',
                'rgba(56,119,255, 0.5)'
            ],
            borderColor: [
                'rgba(192,0,0, 1)',
                'rgba(255, 135, 0, 1)',
                'rgba(0,210,190, 1)',
                'rgba(	0,130,250, 1)',
                'rgba(255, 239, 0, 1)',
                'rgba(6,0,239, 1)',
                'rgba(0, 66, 37, 1)',
                'rgba(255,245,0, 1)',
                'rgba(0,148,33, 1)',
                'rgba(56,119,255, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>

 <!--Grafikon megjelenítő script-->
    <script>
      $(document).ready(function(){
        $("#expand").click(function(){
          $("#graphCanvas").toggle("slow");
        });        
      });

      $(document).ready(function(){
        $("#expand2").click(function(){
          $("#myChart").toggle("slow");
        });        
      });
      </script>
    
  </body>
</html>
